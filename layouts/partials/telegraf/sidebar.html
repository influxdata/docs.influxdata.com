<div class="sidebar--toggle" id="sidebar--toggle">Telegraf Contents</div>
<aside class="sidebar" id="sidebar">
  <section class="sidebar--section">
    {{ partial "support-ad.html" . }}
  </section>
  {{ $currentNode := . }}
  {{ if (eq $currentNode.RelPermalink "/telegraf/") }}
    {{ range (index $.Site.Menus .Site.Data.default_versions.telegraf) }}
      <section class="sidebar--section">
        <div class="sidebar--section-title">
          <a class="{{ if or ($currentNode.IsMenuCurrent $currentNode.Section .) ($currentNode.HasMenuCurrent $currentNode.Section .) }} active{{end}}" href="{{.URL}}">{{ .Name }}</a>
        </div>

        {{ if .HasChildren }}
          <ul>
          {{ range .Children }}
            {{ if .HasChildren }}
              <li>
                <a class="sidebar--children-toggle {{ if or ($currentNode.IsMenuCurrent $currentNode.Section .) ($currentNode.HasMenuCurrent $currentNode.Section .) }}open{{end}}" href="#"></a>
                <a class="sidebar--page{{ if or ($currentNode.IsMenuCurrent $currentNode.Section .) ($currentNode.HasMenuCurrent $currentNode.Section .) }} active{{end}}" href="{{ .URL }}">{{ .Name }}</a>
                <ul class="sidebar--children {{ if or ($currentNode.IsMenuCurrent $currentNode.Section .) ($currentNode.HasMenuCurrent $currentNode.Section .) }}open{{end}}">
                    {{ range .Children }}
                      <li><a class="sidebar--page{{ if or ($currentNode.IsMenuCurrent $currentNode.Section .) ($currentNode.HasMenuCurrent $currentNode.Section .) }} active{{end}}" href="{{ .URL }}">{{ .Name }}</a></li>
                    {{ end }}
                </ul>
              </li>
            {{ else }}
              <li><a class="sidebar--page{{ if or ($currentNode.IsMenuCurrent $currentNode.Section .) ($currentNode.HasMenuCurrent $currentNode.Section .) }} active{{end}}" href="{{ .URL }}">{{ .Name }}</a></li>
            {{ end }}
          {{ end }}
          </ul>
        {{ end }}

      </section>
    {{end}}
  {{end}}
  {{ range .Site.Menus.telegraf }}
    {{ if (in $currentNode.Permalink .URL) }}
      {{ range (index $.Site.Menus .Identifier) }}
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="{{ if or ($currentNode.IsMenuCurrent $currentNode.Section .) ($currentNode.HasMenuCurrent $currentNode.Section .) }} active{{end}}" href="{{.URL}}">{{ .Name }}</a>
          </div>

          {{ if .HasChildren }}
            <ul>
            {{ range .Children }}
              {{ if .HasChildren }}
                <li>
                  <a class="sidebar--children-toggle {{ if or ($currentNode.IsMenuCurrent $currentNode.Section .) ($currentNode.HasMenuCurrent $currentNode.Section .) }}open{{end}}" href="#"></a>
                  <a class="sidebar--page{{ if or ($currentNode.IsMenuCurrent $currentNode.Section .) ($currentNode.HasMenuCurrent $currentNode.Section .) }} active{{end}}" href="{{ .URL }}">{{ .Name }}</a>
                  <ul class="sidebar--children {{ if or ($currentNode.IsMenuCurrent $currentNode.Section .) ($currentNode.HasMenuCurrent $currentNode.Section .) }}open{{end}}">
                      {{ range .Children }}
                        <li><a class="sidebar--page{{ if or ($currentNode.IsMenuCurrent $currentNode.Section .) ($currentNode.HasMenuCurrent $currentNode.Section .) }} active{{end}}" href="{{ .URL }}">{{ .Name }}</a></li>
                      {{ end }}
                  </ul>
                </li>
              {{ else }}
                <li><a class="sidebar--page{{ if or ($currentNode.IsMenuCurrent $currentNode.Section .) ($currentNode.HasMenuCurrent $currentNode.Section .) }} active{{end}}" href="{{ .URL }}">{{ .Name }}</a></li>
              {{ end }}
            {{ end }}
            </ul>
          {{ end }}

        </section>
      {{end}}
    {{end}}
  {{end}}
  <section class="sidebar--section">
    <div class="sidebar--section-title">
      <a href="/telegraf/">Telegraf versions</a>
    </div>
    <ul>
    {{ range .Site.Menus.telegraf }}
      <li><a class="sidebar--page{{ if or ($currentNode.IsMenuCurrent $currentNode.Section .) ($currentNode.HasMenuCurrent $currentNode.Section .) }} active{{end}}" href="{{ .URL }}">{{ .Name }}</a></li>
    {{end}}
  </ul>
  </section>
</aside>
